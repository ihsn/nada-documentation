(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{377:function(a,t,e){"use strict";e.r(t);var s=e(45),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"api-guide"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-guide"}},[a._v("#")]),a._v(" API guide")]),a._v(" "),e("p",[a._v("You need a NADA catalog, an administrator API key, and NADAR or PyNADA installed.")]),a._v(" "),e("p",[e("strong",[a._v("NADA catalog")])]),a._v(" "),e("p",[a._v("We assume your catalog is "),e("a",{attrs:{href:"http://nada-demo.ihsn.org/",target:"_blank",rel:"noopener noreferrer"}},[a._v("http://nada-demo.ihsn.org/"),e("OutboundLink")],1)]),a._v(" "),e("center",[a._v("\n![](/images/NADA_How_Setup_01.JPG){width=90%}\n")]),a._v(" "),e("p",[e("strong",[a._v("NADA administrator API")])]),a._v(" "),e("p",[a._v("To get an administrator API:")]),a._v(" "),e("ul",[e("li",[a._v("At installation")]),a._v(" "),e("li",[a._v("After installation\nWe assume your API key is 1a2b3c4d5e6f7g8h9i (not a real one; make sure you keep it protected !)\nNever put your key directly in the script. If you share the script, it will be revealed. Better save it in a separate, protected file.\nAssume in CSV file, cell ...")])]),a._v(" "),e("p",[a._v("Entering your credentials for use of the API (for any catalog maintenance purpose) will be as follows:")]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-r extra-class"},[e("pre",{pre:!0,attrs:{class:"language-r"}},[e("code",[a._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Load API credentials and catalog URL")]),a._v("\nmy_keys "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<-")]),a._v(" read.csv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"C:/Users/wb147665/OneDrive - WBG/_OD/ADMIN/OD_API_keys.csv"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" header"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("F"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" stringsAsFactors"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("F"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nmy_key  "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<-")]),a._v(" my_keys"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\nset_api_key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("my_key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nset_api_url"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"http://digital-library.census.ihsn.org/index.php/api/"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\nset_api_verbose"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("FALSE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("p",[e("strong",[a._v("NADAR or PyNADA")])]),a._v(" "),e("p",[a._v("To use R, install NADAR.")]),a._v(" "),e("div",{staticClass:"language-r extra-class"},[e("pre",{pre:!0,attrs:{class:"language-r"}},[e("code",[a._v("library"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("devtools"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\ninstall_github"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("mah0001"),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("nadar"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),e("p",[a._v("To use Python, install PyNADA.")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h1",{attrs:{id:"uploading-content-to-the-catalog"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uploading-content-to-the-catalog"}},[a._v("#")]),a._v(" Uploading content to the catalog")]),a._v(" "),e("h2",{attrs:{id:"uploading-a-ddi-and-rdf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#uploading-a-ddi-and-rdf"}},[a._v("#")]),a._v(" Uploading a DDI and RDF")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(": I documented microdata using the Nesstar Publisher and generated a DDI and RDF. I want to upload the metadata in my catalog, and make the external resources and data available. Data will be licensed. I have an image file to be used as thumbnail.")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(": DDI is an XML file. RDF also (Dublin Core). When uploading, will upload metadata and index. But it will NOT load the related materials on the web server. This has to be done separately.")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")]),a._v("\n[list of suggestions on what to check]")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('\n# ==============================================================================\n# Purpose: Publish microdata in the catalog  \n# ==============================================================================\n\nlibrary(nadar)\n \nsetwd("E:/NADA_DEMO/")\n\n# ------------------------------------------------------------------------------\n# Load API credentials and catalog URL\nmy_keys <- read.csv("C:/Users/wb147665/OneDrive - WBG/_OD/ADMIN/OD_API_keys.csv", \n                    header=F, stringsAsFactors=F)\nmy_key  <- my_keys[8,1]\nset_api_key(my_key)\nset_api_url("http://digital-library.census.ihsn.org/index.php/api/")\nset_api_verbose(FALSE)\n# ------------------------------------------------------------------------------\n\n# Upload the DDI \nimport_ddi(xml_file = "./NADA_demo_microdata_01.xml", \n           repositoryid = "central",\n           overwrite = "yes", \n           access_policy = "licensed", \n           published = 1)\n\n# Upload the RDF and resource files\nexternal_resources_delete_all(dataset_idno = "IND_2001_CIHMS_1PC_SDC")\nexternal_resources_import(dataset_idno = "IND_2001_CIHMS_1PC_SDC", \n           rdf_file = "./NADA_demo_microdata_01.rdf",\n           skip_uploads = FALSE,\n           overwrite = "yes")\n\n# Add the thumbnail\nthumbnail_upload(idno = "IND_2001_CIHMS_1PC_SDC", \n                 thumbnail = "./IND_2001_CIHMS_1PC_SDC/census_logo.JPG")\n\n')])])]),e("h2",{attrs:{id:"documenting-and-publishing-a-document"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#documenting-and-publishing-a-document"}},[a._v("#")]),a._v(" Documenting and publishing a document")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(": I have a PDF document to publish in the catalog. I document it then publish it in NADA. I want to use the cover page as thumbnail.")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(": If more than one file ... (e.g. PDF and Word version, or JPG with charts)")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"publishing-tabular-data-with-data-in-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#publishing-tabular-data-with-data-in-api"}},[a._v("#")]),a._v(" Publishing tabular data with data in API")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"publishing-time-series"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#publishing-time-series"}},[a._v("#")]),a._v(" Publishing time series")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"publishing-time-series-with-data-in-api-and-chart"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#publishing-time-series-with-data-in-api-and-chart"}},[a._v("#")]),a._v(" Publishing time series with data in API and chart")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"publishing-data-with-data-in-api-and-a-chart-and-map"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#publishing-data-with-data-in-api-and-a-chart-and-map"}},[a._v("#")]),a._v(" Publishing data with data in API and a chart and map")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"harvesting-data-from-an-external-nada-catalog"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#harvesting-data-from-an-external-nada-catalog"}},[a._v("#")]),a._v(" Harvesting data from an external NADA catalog")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(": I want to extract metadata from the IHSN catalog and display them in my catalog. I have informed IHSN as a courtesy. I will edit the access policy to provide links to the IHSN catalog (not download their materials and publish in my catalog).")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h1",{attrs:{id:"deleting-content"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deleting-content"}},[a._v("#")]),a._v(" Deleting content")]),a._v(" "),e("h2",{attrs:{id:"deleting-a-catalog-entry"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deleting-a-catalog-entry"}},[a._v("#")]),a._v(" Deleting a catalog entry")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(": Can delete one or multiple; provide list of IDs. How to get IDs?")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('\nlibrary(nadar)\n# Enter NADA credentials\n\n# List the ID of the entries to be deleted \nto_delete = list("abc123", "def456", "ghi789")\n\nfor(x in to_delete) {\n  catalog_delete(x)\n}\n\n')])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"delting-a-specific-metadata-element-in-an-entry"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#delting-a-specific-metadata-element-in-an-entry"}},[a._v("#")]),a._v(" Delting a specific metadata element in an entry")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"deleting-a-specific-file-in-an-entry"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deleting-a-specific-file-in-an-entry"}},[a._v("#")]),a._v(" Deleting a specific file in an entry")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h1",{attrs:{id:"editing-content"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#editing-content"}},[a._v("#")]),a._v(" Editing content")]),a._v(" "),e("h2",{attrs:{id:"replacing-metadata"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#replacing-metadata"}},[a._v("#")]),a._v(" Replacing metadata")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"changing-a-specific-metadata-element"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changing-a-specific-metadata-element"}},[a._v("#")]),a._v(" Changing a specific metadata element")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"changing-the-access-policy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#changing-the-access-policy"}},[a._v("#")]),a._v(" Changing the access policy")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"transferring-an-entry-to-another-collection"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#transferring-an-entry-to-another-collection"}},[a._v("#")]),a._v(" Transferring an entry to another collection")]),a._v(" "),e("p",[e("strong",[a._v("Scenario description")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("What you need to know")]),a._v(":")]),a._v(" "),e("p",[e("strong",[a._v("If it does not work:")])]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h1",{attrs:{id:"other"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#other"}},[a._v("#")]),a._v(" Other")]),a._v(" "),e("h2",{attrs:{id:"exporting-to-ckan"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exporting-to-ckan"}},[a._v("#")]),a._v(" Exporting to CKAN")]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])]),e("h2",{attrs:{id:"importing-from-ckan"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#importing-from-ckan"}},[a._v("#")]),a._v(" Importing from CKAN")]),a._v(" "),e("p",[a._v("In R:")]),a._v(" "),e("div",{staticClass:"language-{r eval=F, echo=T} extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("library(nadar)\n\n")])])]),e("p",[a._v("In Python:")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code")])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);